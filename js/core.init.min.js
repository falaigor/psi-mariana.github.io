function cloe_brooks_init_actions() {
  "use strict";
  CLOE_BROOKS_STORAGE.vc_edit_mode &&
  0 == jQuery(".vc_empty-placeholder").length &&
  CLOE_BROOKS_STORAGE.theme_init_counter++ < 30
    ? setTimeout(cloe_brooks_init_actions, 200)
    : (jQuery("#page_preloader").animate({ opacity: 0 }, 500, function () {
        jQuery(this).css({ display: "none" });
      }),
      cloe_brooks_is_retina() &&
        cloe_brooks_set_cookie("cloe_brooks_retina", 1, 365),
      cloe_brooks_ready_actions(),
      setTimeout(function () {
        jQuery(window)
          .on("resize.cloe_brooks", function () {
            cloe_brooks_resize_actions(), cloe_brooks_scroll_actions();
          })
          .trigger("resize.cloe_brooks");
      }, 10),
      jQuery(window).on("scroll.cloe_brooks", function () {
        cloe_brooks_scroll_actions();
      }));
}
function cloe_brooks_ready_actions() {
  "use strict";
  window.cloe_brooks_skin_ready_actions && cloe_brooks_skin_ready_actions(),
    window.cloe_brooks_theme_ready_actions && cloe_brooks_theme_ready_actions(),
    jQuery(".widget ul > li").each(function () {
      jQuery(this).find("ul").length > 0 &&
        jQuery(this).addClass("has_children");
    }),
    jQuery(".widget_archive a").each(function () {
      var e = jQuery(this).html().split(" ");
      e.length > 1 &&
        ((e[e.length - 1] = "<span>" + e[e.length - 1] + "</span>"),
        jQuery(this).html(e.join(" ")));
    }),
    jQuery(".widget_calendar").on(
      "click",
      ".month_prev a, .month_next a",
      function (e) {
        var t = jQuery(this).parents(".wp-calendar"),
          o = jQuery(this).data("month"),
          i = jQuery(this).data("year"),
          s = jQuery(this).data("type");
        return (
          jQuery
            .post(CLOE_BROOKS_STORAGE.ajax_url, {
              action: "calendar_change_month",
              nonce: CLOE_BROOKS_STORAGE.ajax_nonce,
              month: o,
              year: i,
              post_type: s,
            })
            .done(function (e) {
              var o = {};
              try {
                o = JSON.parse(e);
              } catch (t) {
                (o = { error: CLOE_BROOKS_STORAGE.ajax_error }), console.log(e);
              }
              "" === o.error &&
                t.parent().fadeOut(200, function () {
                  jQuery(this).find(".wp-calendar").remove(),
                    jQuery(this).append(o.data).fadeIn(200);
                });
            }),
          e.preventDefault(),
          !1
        );
      }
    ),
    jQuery(".video_background").each(function () {
      var e = jQuery(this).data("youtube-code");
      e && jQuery(this).tubular({ videoId: e });
    }),
    jQuery(".slider_over_button,.slider_over_close").on("click", function (e) {
      return (
        jQuery(this).parent().toggleClass("opened"), e.preventDefault(), !1
      );
    }),
    CLOE_BROOKS_STORAGE.menu_cache && cloe_brooks_prepare_menus(),
    jQuery("ul#menu_side").length > 0 &&
      (jQuery("ul#menu_side")
        .clone()
        .removeAttr("id")
        .removeClass("menu_side_nav")
        .addClass("menu_side_responsive")
        .insertAfter("ul#menu_side"),
      cloe_brooks_show_current_menu_item(
        jQuery(".menu_side_responsive"),
        jQuery(".sidebar_outer_menu_responsive_button")
      )),
    jQuery(".header_mobile").length > 0 &&
      (jQuery(
        ".header_mobile .menu_main_nav_area ul#menu_main_mobile"
      ).removeAttr("id"),
      jQuery(".header_mobile .menu_button").on("click", function () {
        jQuery(".header_mobile .side_wrap").toggleClass("open"),
          jQuery(".header_mobile .mask").toggleClass("show"),
          jQuery("html").toggleClass("menu_mobile_open"),
          cloe_brooks_browser_is_ios() &&
            jQuery("body").hasClass("menu_mobile") &&
            (jQuery("body")
              .data("overflow", jQuery("body").css("overflow"))
              .css("overflow", "hidden"),
            jQuery("body")
              .data("position", jQuery("body").css("position"))
              .css("position", "fixed"));
      }),
      jQuery(".header_mobile .mask, .header_mobile .side_wrap .close").on(
        "click",
        function () {
          jQuery(".header_mobile .side_wrap").removeClass("open"),
            jQuery(".header_mobile .mask").removeClass("show"),
            jQuery("html").removeClass("menu_mobile_open"),
            cloe_brooks_browser_is_ios() &&
              jQuery("body").hasClass("menu_mobile") &&
              (jQuery("body").css("overflow", jQuery("body").data("overflow")),
              jQuery("body").css("position", jQuery("body").data("position")));
        }
      )),
    jQuery(".menu_pushy_button").on("click", function (e) {
      return (
        jQuery("body").addClass("pushy-active").css("overflow", "hidden"),
        jQuery(".site-overlay").fadeIn("fast"),
        e.preventDefault(),
        !1
      );
    }),
    jQuery(".pushy .close-pushy,.site-overlay").on("click", function (e) {
      return (
        jQuery("body").removeClass("pushy-active").css("overflow", "visible"),
        jQuery(".site-overlay").fadeOut("fast"),
        e.preventDefault(),
        !1
      );
    }),
    jQuery(".sidebar_outer_widgets_button").on("click", function (e) {
      return (
        jQuery(".sidebar_outer_widgets").slideToggle(), e.preventDefault(), !1
      );
    }),
    jQuery(
      ".header_mobile .menu_main_nav .menu-item-has-children > a, .menu_side_responsive .menu-item-has-children > a, .menu_pushy_nav_area .menu-item-has-children > a, body:not(.woocommerce) .widget_area:not(.footer_wrap) .widget_product_categories ul.product-categories .has_children > a"
    ).prepend('<span class="open_child_menu"></span>'),
    jQuery(
      ".header_mobile .menu_main_nav, .menu_side_responsive, .menu_pushy_nav_area, body:not(.woocommerce) .widget_area:not(.footer_wrap) .widget_product_categories"
    ).on(
      "click",
      "li a,li a .open_child_menu, ul.product-categories.plain li a .open_child_menu",
      function (e) {
        var t = jQuery(this).parents(".menu_main_nav").length > 0,
          o = jQuery(this).hasClass("open_child_menu")
            ? jQuery(this).parent()
            : jQuery(this);
        if (
          ((t && !jQuery("body").hasClass("menu_mobile")) ||
            (!o.parent().hasClass("menu-item-has-children") &&
              !o.parent().hasClass("has_children")) ||
            (o.siblings("ul:visible").length > 0
              ? o.siblings("ul").slideUp().parent().removeClass("opened")
              : (jQuery(this)
                  .parents("li")
                  .siblings("li")
                  .find("ul:visible")
                  .slideUp()
                  .parent()
                  .removeClass("opened"),
                o.siblings("ul").slideDown().parent().addClass("opened"))),
          jQuery(this).hasClass("open_child_menu") || "#" == o.attr("href"))
        )
          return e.preventDefault(), !1;
      }
    ),
    cloe_brooks_init_sfmenu(
      ".menu_main_nav_area ul#menu_main, .menu_main_nav_area ul#menu_main_mobile, ul#menu_user, ul#menu_side, body:not(.woocommerce) .widget_area:not(.footer_wrap) .widget_product_categories ul.product-categories"
    ),
    CLOE_BROOKS_STORAGE.menu_slider &&
      jQuery("#menu_main,#menu_main_mobile").spasticNav({
        color: CLOE_BROOKS_STORAGE.accent2_color,
      }),
    "hide" != CLOE_BROOKS_STORAGE.toc_menu &&
      "no" != CLOE_BROOKS_STORAGE.toc_menu &&
      cloe_brooks_build_page_toc(),
    jQuery(
      "#toc, ul#menu_main li, ul#menu_main_mobile li, ul#menu_user li, ul#menu_side li, ul#menu_footer li, ul#menu_pushy li"
    ).on("click", "a", function (e) {
      var t = jQuery(this).attr("href");
      if (void 0 !== t) {
        var o = t.indexOf("#");
        if (!(o < 0 || 1 == t.length) && jQuery(t.substr(o)).length > 0) {
          var i = window.location.href,
            s = i.indexOf("#");
          s > 0 && (i = i.substring(0, s));
          var r = 0 == o;
          if ((r || (r = i == t.substring(0, o)), r))
            return (
              cloe_brooks_document_animate_to(t.substr(o)),
              cloe_brooks_document_set_location(0 == o ? i + t : t),
              e.preventDefault(),
              !1
            );
        }
      }
    }),
    (CLOE_BROOKS_STORAGE.top_panel_height = 0),
    (CLOE_BROOKS_STORAGE.side_panel_height = 0),
    jQuery(".pager_cur").on("click", function (e) {
      return (
        jQuery(".pager_slider").slideDown(300, function () {
          cloe_brooks_sc_init(jQuery(".pager_slider").eq(0));
        }),
        e.preventDefault(),
        !1
      );
    }),
    jQuery("#viewmore_link").on("click", function (e) {
      return (
        CLOE_BROOKS_STORAGE.viewmore_busy ||
          jQuery(this).hasClass("viewmore_empty") ||
          (jQuery(this).parent().addClass("loading"),
          (CLOE_BROOKS_STORAGE.viewmore_busy = !0),
          jQuery
            .post(CLOE_BROOKS_STORAGE.ajax_url, {
              action: "view_more_posts",
              nonce: CLOE_BROOKS_STORAGE.ajax_nonce,
              page: CLOE_BROOKS_STORAGE.viewmore_page + 1,
              data: CLOE_BROOKS_STORAGE.viewmore_data,
              vars: CLOE_BROOKS_STORAGE.viewmore_vars,
            })
            .done(function (e) {
              var t = {};
              try {
                t = JSON.parse(e);
              } catch (o) {
                (t = { error: CLOE_BROOKS_STORAGE.ajax_error }), console.log(e);
              }
              if (
                (jQuery("#viewmore_link").parent().removeClass("loading"),
                (CLOE_BROOKS_STORAGE.viewmore_busy = !1),
                "" === t.error)
              ) {
                var o = jQuery(".content").eq(0);
                o.find(".isotope_wrap").length > 0 &&
                  (o = o.find(".isotope_wrap").eq(0)),
                  o.hasClass("isotope_wrap")
                    ? (o.data("last-width", 0).append(t.data),
                      (CLOE_BROOKS_STORAGE.isotope_init_counter = 0),
                      cloe_brooks_init_appended_isotope(o, t.filters))
                    : jQuery("#viewmore").before(t.data),
                  CLOE_BROOKS_STORAGE.viewmore_page++,
                  1 == t.no_more_data &&
                    jQuery("#viewmore_link")
                      .addClass("viewmore_empty")
                      .parent()
                      .hide(),
                  cloe_brooks_init_post_formats(),
                  cloe_brooks_sc_init(o),
                  cloe_brooks_scroll_actions();
              }
            })),
        e.preventDefault(),
        !1
      );
    }),
    jQuery(".woocommerce,.woocommerce-page").on(
      "click",
      ".mode_buttons a",
      function (e) {
        var t = jQuery(this).hasClass("woocommerce_thumbs") ? "thumbs" : "list";
        return (
          jQuery.cookie("cloe_brooks_shop_mode", t, {
            expires: 365,
            path: "/",
          }),
          jQuery(this).siblings("input").val(t).parents("form").get(0).submit(),
          e.preventDefault(),
          !1
        );
      }
    ),
    jQuery("body").bind("added_to_cart", function () {
      var e = jQuery(".widget_shopping_cart")
        .eq(0)
        .find(".total .amount")
        .text();
      null != e && jQuery(".top_panel_cart_button .cart_summa").text(e);
      var t = 0;
      jQuery(".widget_shopping_cart_content")
        .eq(0)
        .find(".cart_list li")
        .each(function () {
          var e = jQuery(this).find(".quantity").html().split(" ", 2);
          isNaN(e[0]) || (t += Number(e[0]));
        });
      var o = jQuery(".top_panel_cart_button .cart_items")
        .eq(0)
        .text()
        .split(" ", 2);
      (o[0] = t),
        jQuery(".top_panel_cart_button .cart_items").text(o[0] + " " + o[1]),
        jQuery(".top_panel_cart_button").data({ items: t || 0, summa: e || 0 });
    }),
    jQuery(
      ".top_panel_middle .top_panel_cart_button, .header_mobile .top_panel_cart_button"
    ).on("click", function (e) {
      return (
        jQuery(this).siblings(".sidebar_cart").slideToggle(),
        e.preventDefault(),
        !1
      );
    }),
    jQuery(".woocommerce div.quantity,.woocommerce-page div.quantity").append(
      '<span class="q_inc"></span><span class="q_dec"></span>'
    ),
    jQuery(".woocommerce div.quantity").on("click", ">span", function (e) {
      var t = jQuery(this).siblings("input");
      return (
        jQuery(this).hasClass("q_inc")
          ? t.val(Math.max(0, parseInt(t.val())) + 1)
          : t.val(Math.max(1, Math.max(0, parseInt(t.val())) - 1)),
        e.preventDefault(),
        !1
      );
    }),
    jQuery(".single-product .woocommerce-tabs")
      .addClass("trx-stretch-width")
      .after('<div class="trx-stretch-width-original"></div>'),
    cloe_brooks_stretch_width(),
    jQuery(".popup_link")
      .addClass("inited")
      .on("click", function (e) {
        var t = jQuery(jQuery(this).attr("href"));
        return (
          1 === t.length &&
            (cloe_brooks_hide_popup(
              jQuery(
                t.hasClass("popup_login")
                  ? ".popup_registration"
                  : ".popup_login"
              )
            ),
            cloe_brooks_toggle_popup(t)),
          e.preventDefault(),
          !1
        );
      }),
    jQuery(".popup_wrap").on("click", ".popup_close", function (e) {
      var t = jQuery(this).parent();
      return (
        1 === t.length && cloe_brooks_hide_popup(t), e.preventDefault(), !1
      );
    }),
    jQuery(".popup_form.login_form").submit(function (e) {
      var t = cloe_brooks_login_validate(jQuery(this));
      return t || e.preventDefault(), t;
    }),
    jQuery(".popup_form.registration_form").submit(function (e) {
      var t = cloe_brooks_registration_validate(jQuery(this));
      return t || e.preventDefault(), t;
    }),
    jQuery("form#commentform").submit(function (e) {
      var t = cloe_brooks_comments_validate(jQuery(this));
      return t || e.preventDefault(), t;
    }),
    jQuery(".bookmarks_add").on("click", function (e) {
      var t = window.document.title.split("|")[0],
        o = window.location.href,
        i = jQuery.cookie("cloe_brooks_bookmarks"),
        s = !1;
      if (i) {
        try {
          i = JSON.parse(i);
        } catch (e) {}
        if (i.length)
          for (var r = 0; r < i.length; r++)
            if (i[r].url == o) {
              s = !0;
              break;
            }
      } else i = new Array();
      if (s)
        cloe_brooks_message_warning(
          CLOE_BROOKS_STORAGE.strings.bookmark_exists,
          CLOE_BROOKS_STORAGE.strings.bookmark_add
        );
      else
        var a = cloe_brooks_message_dialog(
          '<label for="bookmark_title">' +
            CLOE_BROOKS_STORAGE.strings.bookmark_title +
            '</label><br><input type="text" id="bookmark_title" name="bookmark_title" value="' +
            t +
            '">',
          CLOE_BROOKS_STORAGE.strings.bookmark_add,
          null,
          function (e, s) {
            1 == e &&
              ((t = a.find("#bookmark_title").val()),
              i.push({ title: t, url: o }),
              jQuery(".bookmarks_list").append(
                '<li><a href="' +
                  o +
                  '" class="bookmarks_item">' +
                  t +
                  '<span class="bookmarks_delete icon-cancel" title="' +
                  CLOE_BROOKS_STORAGE.strings.bookmark_del +
                  '"></span></a></li>'
              ),
              jQuery.cookie("cloe_brooks_bookmarks", JSON.stringify(i), {
                expires: 365,
                path: "/",
              }),
              setTimeout(function () {
                cloe_brooks_message_success(
                  CLOE_BROOKS_STORAGE.strings.bookmark_added,
                  CLOE_BROOKS_STORAGE.strings.bookmark_add
                );
              }, CLOE_BROOKS_STORAGE.message_timeout / 4));
          }
        );
      return e.preventDefault(), !1;
    }),
    jQuery(".bookmarks_list").on("click", ".bookmarks_delete", function (e) {
      var t = jQuery(this).parent().index(),
        o = jQuery.cookie("cloe_brooks_bookmarks");
      if (o) {
        try {
          o = JSON.parse(o);
        } catch (e) {}
        o.length &&
          (o.splice(t, 1),
          jQuery.cookie("cloe_brooks_bookmarks", JSON.stringify(o), {
            expires: 365,
            path: "/",
          }));
      }
      return jQuery(this).parent().remove(), e.preventDefault(), !1;
    }),
    jQuery(".scroll_to_top").on("click", function (e) {
      return window.open("https://whatsa.me/5521999554084/?t=Oi", "_blank"), !1;
    }),
    cloe_brooks_show_system_message(),
    cloe_brooks_init_post_formats(),
    window.cloe_brooks_sc_init_actions && cloe_brooks_sc_init_actions(),
    window.cloe_brooks_init_hidden_elements &&
      cloe_brooks_init_hidden_elements(jQuery("body").eq(0));
}
function cloe_brooks_scroll_actions() {
  "use strict";
  window.cloe_brooks_skin_scroll_actions && cloe_brooks_skin_scroll_actions(),
    window.cloe_brooks_theme_scroll_actions &&
      cloe_brooks_theme_scroll_actions();
  var e = jQuery(window).scrollTop(),
    t = jQuery(".scroll_to_top");
  Math.max(0, jQuery("#wpadminbar").height());
  if (
    (CLOE_BROOKS_STORAGE.top_panel_height < 1 &&
      (CLOE_BROOKS_STORAGE.top_panel_height = Math.max(
        0,
        jQuery(".top_panel_wrap").height()
      )),
    e > CLOE_BROOKS_STORAGE.top_panel_height
      ? t.addClass("show")
      : t.removeClass("show"),
    !jQuery("body").hasClass("menu_mobile") && CLOE_BROOKS_STORAGE.menu_fixed)
  ) {
    var o = 0;
    jQuery(".top_panel_below .slider_wrap").length > 0 &&
      (o = jQuery(".top_panel_below .slider_wrap").height()) < 10 &&
      (o = jQuery(".slider_wrap").hasClass(".slider_fullscreen")
        ? jQuery(window).height()
        : CLOE_BROOKS_STORAGE.slider_height),
      e <= o + CLOE_BROOKS_STORAGE.top_panel_height
        ? jQuery("body").hasClass("top_panel_fixed") &&
          jQuery("body").removeClass("top_panel_fixed")
        : e > o + CLOE_BROOKS_STORAGE.top_panel_height &&
          !jQuery("body").hasClass("top_panel_fixed") &&
          jQuery(document).height() > 1.5 * jQuery(window).height() &&
          (jQuery(".top_panel_fixed_wrap").height(
            CLOE_BROOKS_STORAGE.top_panel_height
          ),
          jQuery(".top_panel_wrap")
            .css("marginTop", "-150px")
            .animate({ marginTop: 0 }, 500),
          jQuery("body").addClass("top_panel_fixed"));
  }
  jQuery(".sidebar_outer").length > 0 &&
    (0 == CLOE_BROOKS_STORAGE.side_panel_height &&
      (CLOE_BROOKS_STORAGE.side_panel_height =
        jQuery(".sidebar_outer_logo_wrap").outerHeight() +
        jQuery(".sidebar_outer_menu").outerHeight() +
        jQuery(".sidebar_outer_widgets").outerHeight()),
    e + jQuery(window).height() > CLOE_BROOKS_STORAGE.side_panel_height + 100
      ? "fixed" !== jQuery(".sidebar_outer").css("position") &&
        jQuery(".sidebar_outer").css({
          position: "fixed",
          top:
            Math.min(
              0,
              jQuery(window).height() -
                CLOE_BROOKS_STORAGE.side_panel_height -
                100
            ) + "px",
        })
      : "fixed" == jQuery(".sidebar_outer").css("position") &&
        jQuery(".sidebar_outer").css({ position: "absolute", top: 0 })),
    jQuery("#toc .toc_item").each(function () {
      var t = jQuery(this).find("a").attr("href"),
        o = t.indexOf("#");
      if (!(o < 0 || 1 == t.length)) {
        var i = window.location.href,
          s = i.indexOf("#");
        s > 0 && (i = i.substring(0, s));
        var r = 0 == o;
        if ((r || (r = i == href.substring(0, o)), r)) {
          var a = jQuery(t).offset().top,
            n = jQuery(this).next().find("a").attr("href"),
            _ = n ? jQuery(n).offset().top : 1e6;
          a < e + 0.8 * jQuery(window).height() &&
          e + CLOE_BROOKS_STORAGE.top_panel_height < _
            ? jQuery(this).addClass("current")
            : jQuery(this).removeClass("current");
        }
      }
    }),
    cloe_brooks_infinite_scroll(),
    cloe_brooks_parallax_scroll(),
    window.cloe_brooks_sc_scroll_actions && cloe_brooks_sc_scroll_actions();
}
function cloe_brooks_infinite_scroll() {
  "use strict";
  if (!CLOE_BROOKS_STORAGE.viewmore_busy) {
    var e = jQuery("#viewmore.pagination_infinite");
    if (e.length > 0) {
      var t = e.find("#viewmore_link:not(.viewmore_empty)");
      t.length > 0 &&
        jQuery(window).scrollTop() + jQuery(window).height() + 100 >=
          e.offset().top &&
        t.eq(0).trigger("click");
    }
  }
}
function cloe_brooks_parallax_scroll() {
  jQuery(".sc_parallax").each(function () {
    var e = jQuery(window).height(),
      t = jQuery(window).scrollTop(),
      o = Math.max(jQuery(this).offset().top, e);
    if (o <= t + e) {
      var i = Number(jQuery(this).data("parallax-speed")),
        s = jQuery(this).data("parallax-x-pos"),
        r = Math.round((o - t - e) * i + (i < 0 ? e * i : 0));
      jQuery(this)
        .find(".sc_parallax_content")
        .css("backgroundPosition", s + " " + r + "px"),
        jQuery(this)
          .find("div.sc_video_bg")
          .css("top", r + "px");
    }
  });
}
function cloe_brooks_resize_actions() {
  "use strict";
  window.cloe_brooks_skin_resize_actions && cloe_brooks_skin_resize_actions(),
    window.cloe_brooks_theme_resize_actions &&
      cloe_brooks_theme_resize_actions(),
    (CLOE_BROOKS_STORAGE.top_panel_height = 0),
    cloe_brooks_responsive_menu(),
    cloe_brooks_video_dimensions(),
    cloe_brooks_resize_video_background(),
    cloe_brooks_resize_fullscreen_slider(),
    cloe_brooks_resize_alter_portfolio(),
    cloe_brooks_stretch_width(),
    window.cloe_brooks_sc_resize_actions && cloe_brooks_sc_resize_actions();
}
function cloe_brooks_stretch_width() {
  jQuery(".trx-stretch-width").each(function () {
    var e = jQuery(this),
      t = e.next(".trx-stretch-width-original"),
      o = parseInt(e.css("margin-left"), 10),
      i = parseInt(e.css("margin-right"), 10),
      s = 0 - t.offset().left - o,
      r = jQuery(window).width();
    if (
      (e.hasClass("inited") ||
        (e.addClass("inited invisible"),
        e.css({ position: "relative", "box-sizing": "border-box" })),
      e.css({ left: s, width: jQuery(window).width() }),
      !e.hasClass("trx-stretch-content"))
    ) {
      var a = Math.max(0, -1 * s),
        n = Math.max(0, r - a - t.width() + o + i);
      e.css({ "padding-left": a + "px", "padding-right": n + "px" });
    }
    e.removeClass("invisible");
  });
}
function cloe_brooks_responsive_menu() {
  var e;
  (cloe_brooks_is_responsive_need(CLOE_BROOKS_STORAGE.menu_mobile)
    ? jQuery("body").hasClass("menu_mobile") ||
      (jQuery("body").removeClass("top_panel_fixed").addClass("menu_mobile"),
      jQuery("header.top_panel_wrap ").hide(),
      jQuery(".header_mobile").show(),
      jQuery("header #popup_login").attr("id", "popup_login_1"),
      jQuery("header #popup_registration").attr("id", "popup_registration_1"),
      jQuery(".header_mobile #popup_login_1").attr("id", "popup_login"),
      jQuery(".header_mobile #popup_registration_1").attr(
        "id",
        "popup_registration"
      ))
    : jQuery("body").hasClass("menu_mobile") &&
      (jQuery("body").removeClass("menu_mobile"),
      jQuery("header.top_panel_wrap ").show(),
      jQuery(".header_mobile").hide(),
      jQuery("header #popup_login_1").attr("id", "popup_login"),
      jQuery("header #popup_registration_1").attr("id", "popup_registration"),
      jQuery(".header_mobile #popup_login").attr("id", "popup_login_1"),
      jQuery(".header_mobile #popup_registration").attr(
        "id",
        "popup_registration_1"
      )),
  jQuery(window).width() < 640)
    ? (e = jQuery(
        ".header_mobile .popup_wrap.popup_registration .registration_form > .form_right"
      )).length > 0 &&
      jQuery(
        ".header_mobile .popup_wrap.popup_registration .form_left .popup_form_field.email_field"
      ).after(e)
    : (e = jQuery(
        ".header_mobile .popup_wrap.popup_registration .form_left > .form_right"
      )).length > 0 &&
      jQuery(
        ".header_mobile .popup_wrap.popup_registration .registration_form"
      ).append(e);
  jQuery(".top_panel_wrap").hasClass("menu_show") ||
    jQuery(".top_panel_wrap").addClass("menu_show"),
    jQuery(".sidebar_outer").length > 0 &&
      "absolute" == jQuery(".sidebar_outer").css("position") &&
      0 == jQuery(".sidebar_outer_widgets:visible").length &&
      jQuery(".sidebar_outer_widgets").show();
  var t = jQuery(
      "body:not(.woocommerce) .widget_area:not(.footer_wrap) .widget_product_categories ul.product-categories"
    ),
    o = t.parents(".widget_area");
  o.length > 0 &&
    t.length > 0 &&
    (o.width() == o.parents(".content_wrap").width()
      ? t.hasClass("inited") &&
        (t.removeClass("inited").addClass("plain").superfish("destroy"),
        t.find("ul.animated").removeClass("animated").addClass("no_animated"))
      : t.hasClass("inited") ||
        (t.removeClass("plain").addClass("inited"),
        t
          .find("ul.no_animated")
          .removeClass("no_animated")
          .addClass("animated"),
        cloe_brooks_init_sfmenu(
          "body:not(.woocommerce) .widget_area:not(.footer_wrap) .widget_product_categories ul.product-categories"
        )));
}
function cloe_brooks_is_responsive_need(e) {
  "use strict";
  var t = !1;
  if (e > 0) {
    var o = window.innerWidth;
    null == o &&
      (o =
        jQuery(window).width() +
        (jQuery(window).height() < jQuery(document).height() ||
        jQuery(window).scrollTop() > 0
          ? 16
          : 0)),
      (t = e > o);
  }
  return t;
}
function cloe_brooks_video_dimensions() {
  jQuery(".sc_video_frame").each(function () {
    "use strict";
    var e = jQuery(this).eq(0),
      t =
        (e.parent(),
        e.data("ratio")
          ? e.data("ratio").split(":")
          : e.find("[data-ratio]").length > 0
          ? e.find("[data-ratio]").data("ratio").split(":")
          : [16, 9]);
    t = 2 != t.length || 0 == t[0] || 0 == t[1] ? 16 / 9 : t[0] / t[1];
    var o = e.data("width"),
      i = e.data("height");
    if (o && i) {
      var s = "%" == ("" + o).substr(-1);
      (o = parseInt(o)), (i = parseInt(i));
      var r = Math.min(
          s || e.parents(".columns_wrap").length > 0 ? 1e4 : o,
          e.parents("div,article").width()
        ),
        a = Math.round(s ? r / t : (r / o) * i);
      parseInt(e.attr("data-last-width")) != r &&
        (s ? e.height(a) : e.css({ width: r + "px", height: a + "px" }),
        e.attr("data-last-width", r));
    }
  }),
    jQuery("video.sc_video,video.wp-video-shortcode").each(function () {
      "use strict";
      var e = jQuery(this).eq(0),
        t = null != e.data("ratio") ? e.data("ratio").split(":") : [16, 9];
      t = 2 != t.length || 0 == t[0] || 0 == t[1] ? 16 / 9 : t[0] / t[1];
      var o = e.parents(".mejs-video"),
        i = e.parents(".sc_video_frame"),
        s = i.length > 0 ? i.data("width") : e.data("width"),
        r = i.length > 0 ? i.data("height") : e.data("height");
      if (!s || !r) {
        if (((s = e.attr("width")), (r = e.attr("height")), !s || !r)) return;
        e.data({ width: s, height: r });
      }
      var a = "%" == ("" + s).substr(-1);
      (s = parseInt(s)), (r = parseInt(r));
      var n = Math.round(
          o.length > 0
            ? Math.min(a ? 1e4 : s, o.parents("div,article").width())
            : e.width()
        ),
        _ = Math.round(a ? n / t : (n / s) * r);
      parseInt(e.attr("data-last-width")) != n &&
        (o.length > 0 &&
          mejs &&
          cloe_brooks_set_mejs_player_dimensions(e, n, _),
        a
          ? e.height(_)
          : e
              .attr({ width: n, height: _ })
              .css({ width: n + "px", height: _ + "px" }),
        e.attr("data-last-width", n));
    }),
    jQuery("video.sc_video_bg").each(function () {
      "use strict";
      var e = jQuery(this).eq(0),
        t = null != e.data("ratio") ? e.data("ratio").split(":") : [16, 9];
      t = 2 != t.length || 0 == t[0] || 0 == t[1] ? 16 / 9 : t[0] / t[1];
      var o = e.parents(".mejs-video"),
        i = o.length > 0 ? o.parent() : e.parent(),
        s = i.width(),
        r = i.height(),
        a = Math.ceil(r * t),
        n = Math.ceil(s / t);
      if (e.parents(".sc_parallax").length > 0) {
        var _ = jQuery(window).height(),
          l = Number(e.parents(".sc_parallax").data("parallax-speed")),
          u = Math.ceil(Math.abs((_ - r) * l));
        n < r + u && ((n = r + u), (a = Math.ceil(n * t)));
      }
      n < r && ((n = r), (a = Math.ceil(n * t))),
        a < s && ((a = s), (n = Math.ceil(a / t)));
      Math.round((a - s) / 2);
      var d = Math.round((n - r) / 2);
      parseInt(e.attr("data-last-width")) != a &&
        (o.length > 0
          ? (cloe_brooks_set_mejs_player_dimensions(e, a, n),
            o.css({ top: -d + "px" }))
          : e.css({ top: -d + "px" }),
        e
          .attr({ width: a, height: n, "data-last-width": a })
          .css({ width: a + "px", height: n + "px" }),
        0 == e.css("opacity") && e.animate({ opacity: 1 }, 3e3));
    }),
    jQuery("iframe").each(function () {
      "use strict";
      var e = jQuery(this).eq(0),
        t =
          null != e.data("ratio")
            ? e.data("ratio").split(":")
            : e.find("[data-ratio]").length > 0
            ? e.find("[data-ratio]").data("ratio").split(":")
            : [16, 9];
      t = 2 != t.length || 0 == t[0] || 0 == t[1] ? 16 / 9 : t[0] / t[1];
      var o = e.attr("width"),
        i = e.attr("height"),
        s = e.parents(".sc_video_frame");
      if (
        (s.length > 0 && ((o = s.data("width")), (i = s.data("height"))),
        o && i)
      ) {
        var r = "%" == ("" + o).substr(-1);
        (o = parseInt(o)), (i = parseInt(i));
        var a = s.length > 0 ? s.width() : e.width(),
          n = Math.round(r ? a / t : (a / o) * i);
        parseInt(e.attr("data-last-width")) != a &&
          e.css({ width: a + "px", height: n + "px" });
      }
    });
}
function cloe_brooks_resize_video_background() {
  "use strict";
  var e = jQuery(".video_bg");
  if (!(e.length < 1))
    if (
      CLOE_BROOKS_STORAGE.media_elements_enabled &&
      0 == e.find(".mejs-video").length
    )
      setTimeout(cloe_brooks_resize_video_background, 100);
    else {
      var t = e.find("video"),
        o = null != t.data("ratio") ? t.data("ratio").split(":") : [16, 9];
      o = 2 != o.length || 0 == o[0] || 0 == o[1] ? 16 / 9 : o[0] / o[1];
      var i = e.width(),
        s = e.height(),
        r = Math.ceil(s * o),
        a = Math.ceil(i / o);
      a < s && ((a = s), (r = Math.ceil(a * o))),
        r < i && ((r = i), (a = Math.ceil(r / o)));
      var n = Math.round((r - i) / 2),
        _ = Math.round((a - s) / 2);
      e.find(".mejs-container").length > 0
        ? (cloe_brooks_set_mejs_player_dimensions(e.find("video"), r, a),
          e.find(".mejs-container").css({ left: -n + "px", top: -_ + "px" }))
        : e.find("video").css({ left: -n + "px", top: -_ + "px" }),
        e
          .find("video")
          .attr({ width: r, height: a })
          .css({ width: r + "px", height: a + "px" });
    }
}
function cloe_brooks_set_mejs_player_dimensions(e, t, o) {
  "use strict";
  if (mejs)
    for (var i in mejs.players)
      mejs.players[i].media.src == e.attr("src") &&
        (mejs.players[i].media.setVideoSize &&
          mejs.players[i].media.setVideoSize(t, o),
        mejs.players[i].setPlayerSize(t, o),
        mejs.players[i].setControlsSize());
}
function cloe_brooks_resize_fullscreen_slider() {
  "use strict";
  var e = jQuery(".slider_wrap.slider_fullscreen");
  if (!(e.length < 1)) {
    var t = e.find(".sc_slider_swiper");
    if (!(t.length < 1)) {
      var o =
        jQuery(window).height() -
        jQuery("#wpadminbar").height() -
        (jQuery("body").hasClass("top_panel_above") &&
        !jQuery("body").hasClass(".top_panel_fixed")
          ? jQuery(".top_panel_wrap").height()
          : 0);
      t.height(o);
    }
  }
}
function cloe_brooks_resize_alter_portfolio() {
  "use strict";
  var e = jQuery(".isotope_wrap.inited");
  0 != e.length &&
    e.each(function () {
      var e = jQuery(this).find(".post_item_alter");
      if (0 != e.length) {
        var t = e.find('.post_featured img[data-alter-items-w="1"]').eq(0);
        if (1 == t.length) {
          t.width();
          var o = t.height(),
            i = Number(t.data("alter-item-space")),
            s = !1;
          e.find(".post_featured img").each(function () {
            var e = Number(jQuery(this).data("alter-items-w")),
              t = Number(jQuery(this).data("alter-items-h"));
            t > 1
              ? (jQuery(this).height(Math.round(t * o + (t - 1) * (i + 1))),
                (s = !0))
              : e > 1 && (jQuery(this).height(o), (s = !0));
          }),
            s && jQuery(this).isotope("layout");
        }
      }
    });
}
function cloe_brooks_init_sfmenu(e) {
  jQuery(e)
    .show()
    .each(function () {
      (!cloe_brooks_is_responsive_need() ||
        ("menu_main" != jQuery(this).attr("id") &&
          "menu_side" != jQuery(this).attr("id"))) &&
        jQuery(this)
          .addClass("inited")
          .superfish({
            delay: 500,
            animation: { opacity: "show" },
            animationOut: { opacity: "hide" },
            speed: CLOE_BROOKS_STORAGE.css_animation
              ? 500
              : CLOE_BROOKS_STORAGE.menu_slider
              ? 300
              : 200,
            speedOut: CLOE_BROOKS_STORAGE.css_animation
              ? 500
              : CLOE_BROOKS_STORAGE.menu_slider
              ? 300
              : 200,
            autoArrows: !1,
            dropShadows: !1,
            onBeforeShow: function (e) {
              if (jQuery(this).parents("ul").length > 1) {
                var t = jQuery(window).width(),
                  o = jQuery(this).parents("ul").offset().left,
                  i = jQuery(this).parents("ul").outerWidth(),
                  s = jQuery(this).outerWidth();
                o + i + s > t - 20 && o - s > 0
                  ? jQuery(this).addClass("submenu_left")
                  : jQuery(this).removeClass("submenu_left");
              }
              CLOE_BROOKS_STORAGE.css_animation &&
                (jQuery(this).removeClass(
                  "animated fast " + CLOE_BROOKS_STORAGE.menu_animation_out
                ),
                jQuery(this).addClass(
                  "animated fast " + CLOE_BROOKS_STORAGE.menu_animation_in
                ));
            },
            onBeforeHide: function (e) {
              CLOE_BROOKS_STORAGE.css_animation &&
                (jQuery(this).removeClass(
                  "animated fast " + CLOE_BROOKS_STORAGE.menu_animation_in
                ),
                jQuery(this).addClass(
                  "animated fast " + CLOE_BROOKS_STORAGE.menu_animation_out
                ));
            },
          });
    });
}
function cloe_brooks_build_page_toc() {
  "use strict";
  var e = "",
    t = 0;
  jQuery('[id^="toc_"],.sc_anchor').each(function (o) {
    var i = jQuery(this),
      s = i.attr("id"),
      r = i.data("url"),
      a = i.data("icon");
    a || (a = "icon-circle-dot");
    var n = i.attr("title"),
      _ = i.data("description"),
      l = i.data("separator");
    t++,
      (e +=
        '<div class="toc_item' +
        ("yes" == l ? " toc_separator" : "") +
        '">' +
        (_ ? '<div class="toc_description">' + _ + "</div>" : "") +
        '<a href="' +
        (r || "#" + s) +
        '" class="toc_icon' +
        (n ? " with_title" : "") +
        " " +
        a +
        '">' +
        (n ? '<span class="toc_title">' + n + "</span>" : "") +
        "</a></div>");
  }),
    t >
      (CLOE_BROOKS_STORAGE.toc_menu_home ? 1 : 0) +
        (CLOE_BROOKS_STORAGE.toc_menu_top ? 1 : 0) &&
      (jQuery("#toc").length > 0
        ? jQuery("#toc .toc_inner").html(e)
        : jQuery("body").append(
            '<div id="toc" class="toc_' +
              CLOE_BROOKS_STORAGE.toc_menu +
              '"><div class="toc_inner">' +
              e +
              "</div></div>"
          ));
}
function cloe_brooks_show_current_menu_item(e, t) {
  "use strict";
  e.find("a").each(function () {
    var e = jQuery(this);
    "" != e.text() &&
      e.attr("href") == window.location.href &&
      t.text(e.text());
  });
}
function cloe_brooks_prepare_menus() {
  "use strict";
  var e = [
      jQuery("ul#menu_main"),
      jQuery("ul#menu_main_mobile"),
      jQuery("ul#menu_user"),
      jQuery("ul#menu_side"),
      jQuery("ul#menu_footer"),
      jQuery("ul#menu_pushy"),
    ],
    t = window.location.href;
  for (var o in e)
    0 != e[o].length &&
      (e[o]
        .find("li")
        .removeClass(
          "current-menu-ancestor current-menu-parent current-menu-item current_page_item"
        ),
      e[o].find('a[href="' + t + '"]').each(function (e) {
        var t = jQuery(this).parent();
        t.addClass("current-menu-item"),
          t.hasClass("menu-item-object-page") &&
            t.addClass("current_page_item");
        for (var o = 0; (t = t.parents("li")).length > 0; )
          o++,
            t.addClass(
              "current-menu-ancestor" + (1 == o ? " current-menu-parent" : "")
            );
      }));
}
function cloe_brooks_init_isotope() {
  "use strict";
  var e = !0;
  jQuery(".isotope_wrap:not(.inited)").each(function () {
    e = e && cloe_brooks_check_images_complete(jQuery(this));
  }),
    !e && CLOE_BROOKS_STORAGE.isotope_init_counter++ < 30
      ? setTimeout(cloe_brooks_init_isotope, 200)
      : (jQuery(".isotope_filters:not(.inited)")
          .addClass("inited")
          .on("click", "a", function (e) {
            jQuery(this)
              .parents(".isotope_filters")
              .find("a")
              .removeClass("active"),
              jQuery(this).addClass("active");
            var t = jQuery(this).data("filter");
            return (
              jQuery(this)
                .parents(".isotope_filters")
                .siblings(".isotope_wrap")
                .eq(0)
                .isotope({ filter: t }),
              "*" == t
                ? jQuery("#viewmore_link").fadeIn()
                : jQuery("#viewmore_link").fadeOut(),
              e.preventDefault(),
              !1
            );
          }),
        jQuery(".isotope_wrap:not(.inited)").each(function () {
          var e = jQuery(this);
          cloe_brooks_sc_init(e),
            e.parents(".sc_scroll").length > 0
              ? e
                  .addClass("inited")
                  .find(".isotope_item")
                  .animate({ opacity: 1 }, 200, function () {
                    jQuery(this).addClass("isotope_item_show");
                  })
              : setTimeout(function () {
                  e
                    .addClass("inited")
                    .isotope({
                      itemSelector: ".isotope_item",
                      animationOptions: {
                        duration: 750,
                        easing: "linear",
                        queue: !1,
                      },
                    }),
                    e
                      .find(".isotope_item")
                      .animate({ opacity: 1 }, 200, function () {
                        jQuery(this).addClass("isotope_item_show");
                      }),
                    cloe_brooks_resize_alter_portfolio();
                }, 500);
        }));
}
function cloe_brooks_init_appended_isotope(e, t) {
  "use strict";
  if (!(e.parents(".sc_scroll_horizontal").length > 0))
    if (
      !cloe_brooks_check_images_complete(e) &&
      CLOE_BROOKS_STORAGE.isotope_init_counter++ < 30
    )
      setTimeout(function () {
        cloe_brooks_init_appended_isotope(e, t);
      }, 200);
    else {
      var o = e.siblings(".isotope_filter");
      for (var i in t)
        0 == o.find('a[data-filter=".flt_' + i + '"]').length &&
          o.append(
            '<a href="#" class="isotope_filters_button" data-filter=".flt_' +
              i +
              '">' +
              t[i] +
              "</a>"
          );
      cloe_brooks_sc_init(e);
      var s = e.find(".isotope_item:not(.isotope_item_show)");
      setTimeout(function () {
        e.isotope("appended", s),
          s.animate({ opacity: 1 }, 200, function () {
            jQuery(this).addClass("isotope_item_show");
          });
      }, 500);
    }
}
function cloe_brooks_init_post_formats() {
  "use strict";
  if (
    (window.cloe_brooks_theme_init_post_formats &&
      cloe_brooks_theme_init_post_formats(),
    cloe_brooks_init_media_elements(jQuery("body")),
    jQuery(".isotope_wrap:not(.inited)").length > 0 &&
      ((CLOE_BROOKS_STORAGE.isotope_init_counter = 0),
      cloe_brooks_init_isotope()),
    jQuery(".isotope_wrap .isotope_item_content.square.effect_dir:not(.inited)")
      .length > 0 &&
      jQuery(
        ".isotope_wrap .isotope_item_content.square.effect_dir:not(.inited)"
      ).each(function () {
        jQuery(this).addClass("inited").hoverdir();
      }),
    "pretty" == CLOE_BROOKS_STORAGE.popup_engine)
  ) {
    jQuery("a[href$='jpg'],a[href$='jpeg'],a[href$='png'],a[href$='gif']").attr(
      "rel",
      "prettyPhoto[slideshow]"
    );
    var e = jQuery(
      "a[rel*='prettyPhoto']:not(.inited):not(.esgbox):not([data-rel*='pretty']):not([rel*='magnific']):not([data-rel*='magnific'])"
    ).addClass("inited");
    try {
      e.prettyPhoto({ social_tools: "", theme: "facebook", deeplinking: !1 });
    } catch (e) {}
  } else if ("magnific" == CLOE_BROOKS_STORAGE.popup_engine) {
    jQuery("a[href$='jpg'],a[href$='jpeg'],a[href$='png'],a[href$='gif']").attr(
      "rel",
      "magnific"
    );
    e = jQuery(
      "a[rel*='magnific']:not(.inited):not(.esgbox):not(.prettyphoto):not([rel*='pretty']):not([data-rel*='pretty'])"
    ).addClass("inited");
    try {
      e.magnificPopup({
        type: "image",
        mainClass: "mfp-img-mobile",
        closeOnContentClick: !0,
        closeBtnInside: !0,
        fixedContentPos: !0,
        midClick: !0,
        preloader: !0,
        tLoading: CLOE_BROOKS_STORAGE.strings.magnific_loading,
        gallery: { enabled: !0 },
        image: {
          tError: CLOE_BROOKS_STORAGE.strings.magnific_error,
          verticalFit: !0,
        },
      });
    } catch (e) {}
  }
  jQuery(
    ".post_item_product .product .images a.woocommerce-main-image:not(.hover_icon)"
  ).addClass("hover_icon hover_icon_view"),
    jQuery(".post_counters_likes:not(.inited)").length > 0 &&
      jQuery(".post_counters_likes:not(.inited)")
        .addClass("inited")
        .on("click", function (e) {
          var t = jQuery(this),
            o = t.hasClass("enabled") ? 1 : -1,
            i = t.data("postid"),
            s = Number(t.data("likes")) + o,
            r = cloe_brooks_get_cookie("cloe_brooks_likes");
          return (
            null == r && (r = ""),
            jQuery
              .post(CLOE_BROOKS_STORAGE.ajax_url, {
                action: "post_counter",
                nonce: CLOE_BROOKS_STORAGE.ajax_nonce,
                post_id: i,
                likes: s,
              })
              .done(function (e) {
                var a = {};
                try {
                  a = JSON.parse(e);
                } catch (t) {
                  (a = { error: CLOE_BROOKS_STORAGE.ajax_error }),
                    console.log(e);
                }
                if ("" === a.error) {
                  if (1 == o) {
                    var n = t.data("title-dislike");
                    t.removeClass("enabled").addClass("disabled"),
                      (r += ("," != r.substr(-1) ? "," : "") + i + ",");
                  } else {
                    n = t.data("title-like");
                    t.removeClass("disabled").addClass("enabled"),
                      (r = r.replace("," + i + ",", ","));
                  }
                  t
                    .data("likes", s)
                    .attr("title", n)
                    .find(".post_counters_number")
                    .html(s),
                    cloe_brooks_set_cookie("cloe_brooks_likes", r, 365);
                } else cloe_brooks_message_warning(CLOE_BROOKS_STORAGE.strings.error_like);
              }),
            e.preventDefault(),
            !1
          );
        }),
    jQuery(".sc_socials_share:not(.inited)").length > 0 &&
      jQuery(".sc_socials_share:not(.inited)").each(function () {
        jQuery(this)
          .addClass("inited")
          .on("click", ".social_item_popup > a.social_icons", function (e) {
            var t = jQuery(this).data("link");
            return (
              window.open(
                t,
                "_blank",
                "scrollbars=0, resizable=1, menubar=0, left=100, top=100, width=480, height=400, toolbar=0, status=0"
              ),
              e.preventDefault(),
              !1
            );
          });
      }),
    jQuery(".sc_video_play_button:not(.inited)").length > 0 &&
      jQuery(".sc_video_play_button:not(.inited)").each(function () {
        jQuery(this)
          .addClass("inited")
          .animate({ opacity: 1 }, 1e3)
          .on("click", function (e) {
            if (jQuery(this).hasClass("sc_video_play_button")) {
              var t = jQuery(this)
                .removeClass("sc_video_play_button hover_icon hover_icon_play")
                .data("video");
              if ("" !== t) {
                jQuery(this).empty().html(t), cloe_brooks_video_dimensions();
                var o = jQuery(this).find("video"),
                  i = o.width(),
                  s = o.height();
                cloe_brooks_init_media_elements(jQuery(this)),
                  jQuery(this)
                    .find("video")
                    .css({ width: i, height: s })
                    .attr({ width: i, height: s });
              }
              return e.preventDefault(), !1;
            }
          });
      }),
    jQuery(
      "a.tribe-events-read-more,.tribe-events-button,.tribe-events-nav-previous a,.tribe-events-nav-next a,.tribe-events-widget-link a,.tribe-events-viewmore a"
    ).addClass("sc_button sc_button_style_filled");
}
function cloe_brooks_init_media_elements(e) {
  CLOE_BROOKS_STORAGE.media_elements_enabled &&
    e.find("audio,video").length > 0 &&
    (window.mejs
      ? ((window.mejs.MepDefaults.enableAutosize = !1),
        (window.mejs.MediaElementDefaults.enableAutosize = !1),
        e
          .find("audio:not(.wp-audio-shortcode),video:not(.wp-video-shortcode)")
          .each(function () {
            if (0 == jQuery(this).parents(".mejs-mediaelement").length) {
              var e = jQuery(this),
                t = {
                  enableAutosize: !0,
                  videoWidth: -1,
                  videoHeight: -1,
                  audioWidth: "100%",
                  audioHeight: 30,
                  success: function (t) {
                    var o, i;
                    "flash" === t.pluginType &&
                      ((o =
                        t.attributes.autoplay &&
                        "false" !== t.attributes.autoplay),
                      (i = t.attributes.loop && "false" !== t.attributes.loop),
                      o &&
                        t.addEventListener(
                          "canplay",
                          function () {
                            t.play();
                          },
                          !1
                        ),
                      i &&
                        t.addEventListener(
                          "ended",
                          function () {
                            t.play();
                          },
                          !1
                        )),
                      e
                        .parents(".sc_audio,.sc_video")
                        .addClass("inited sc_show");
                  },
                };
              jQuery(this).mediaelementplayer(t);
            }
          }))
      : setTimeout(function () {
          cloe_brooks_init_media_elements(e);
        }, 400));
}
function cloe_brooks_show_system_message() {
  CLOE_BROOKS_STORAGE.system_message &&
    CLOE_BROOKS_STORAGE.system_message.message &&
    ("success" == CLOE_BROOKS_STORAGE.system_message.status
      ? cloe_brooks_message_success(
          CLOE_BROOKS_STORAGE.system_message.message,
          CLOE_BROOKS_STORAGE.system_message.header
        )
      : "info" == CLOE_BROOKS_STORAGE.system_message.status
      ? cloe_brooks_message_info(
          CLOE_BROOKS_STORAGE.system_message.message,
          CLOE_BROOKS_STORAGE.system_message.header
        )
      : ("error" != CLOE_BROOKS_STORAGE.system_message.status &&
          "warning" != CLOE_BROOKS_STORAGE.system_message.status) ||
        cloe_brooks_message_warning(
          CLOE_BROOKS_STORAGE.system_message.message,
          CLOE_BROOKS_STORAGE.system_message.header
        ));
}
function cloe_brooks_toggle_popup(e) {
  "none" != e.css("display")
    ? cloe_brooks_hide_popup(e)
    : cloe_brooks_show_popup(e);
}
function cloe_brooks_show_popup(e) {
  "none" == e.css("display") &&
    (CLOE_BROOKS_STORAGE.css_animation
      ? e
          .show()
          .removeClass(
            "animated fast " + CLOE_BROOKS_STORAGE.menu_animation_out
          )
          .addClass("animated fast " + CLOE_BROOKS_STORAGE.menu_animation_in)
      : e.slideDown());
}
function cloe_brooks_hide_popup(e) {
  "none" != e.css("display") &&
    (CLOE_BROOKS_STORAGE.css_animation
      ? e
          .removeClass("animated fast " + CLOE_BROOKS_STORAGE.menu_animation_in)
          .addClass("animated fast " + CLOE_BROOKS_STORAGE.menu_animation_out)
          .delay(500)
          .hide()
      : e.fadeOut());
}
function cloe_brooks_comments_validate(e) {
  "use strict";
  e.find("input").removeClass("error_fields_class");
  var t = {
    error_message_text: CLOE_BROOKS_STORAGE.strings.error_global,
    error_message_show: !0,
    error_message_time: 4e3,
    error_message_class: "sc_infobox sc_infobox_style_error",
    error_fields_class: "error_fields_class",
    exit_after_first_error: !1,
    rules: [
      {
        field: "comment",
        min_length: {
          value: 1,
          message: CLOE_BROOKS_STORAGE.strings.text_empty,
        },
        max_length: {
          value: CLOE_BROOKS_STORAGE.comments_maxlength,
          message: CLOE_BROOKS_STORAGE.strings.text_long,
        },
      },
    ],
  };
  return (
    e.find('.comments_author input[aria-required="true"]').length > 0 &&
      t.rules.push({
        field: "author",
        min_length: {
          value: 1,
          message: CLOE_BROOKS_STORAGE.strings.name_empty,
        },
        max_length: {
          value: 60,
          message: CLOE_BROOKS_STORAGE.strings.name_long,
        },
      }),
    e.find('.comments_email input[aria-required="true"]').length > 0 &&
      t.rules.push({
        field: "email",
        min_length: {
          value: 7,
          message: CLOE_BROOKS_STORAGE.strings.email_empty,
        },
        max_length: {
          value: 60,
          message: CLOE_BROOKS_STORAGE.strings.email_long,
        },
        mask: {
          value: CLOE_BROOKS_STORAGE.email_mask,
          message: CLOE_BROOKS_STORAGE.strings.email_not_valid,
        },
      }),
    !cloe_brooks_form_validate(e, t)
  );
}
function cloe_brooks_login_validate(e) {
  "use strict";
  return (
    e.find("input").removeClass("error_fields_class"),
    cloe_brooks_form_validate(e, {
      error_message_show: !0,
      error_message_time: 4e3,
      error_message_class: "sc_infobox sc_infobox_style_error",
      error_fields_class: "error_fields_class",
      exit_after_first_error: !0,
      rules: [
        {
          field: "log",
          min_length: {
            value: 1,
            message: CLOE_BROOKS_STORAGE.strings.login_empty,
          },
          max_length: {
            value: 60,
            message: CLOE_BROOKS_STORAGE.strings.login_long,
          },
        },
        {
          field: "pwd",
          min_length: {
            value: 4,
            message: CLOE_BROOKS_STORAGE.strings.password_empty,
          },
          max_length: {
            value: 30,
            message: CLOE_BROOKS_STORAGE.strings.password_long,
          },
        },
      ],
    }) ||
      jQuery
        .post(CLOE_BROOKS_STORAGE.ajax_url, {
          action: "login_user",
          nonce: CLOE_BROOKS_STORAGE.ajax_nonce,
          remember: e.find("#rememberme").val(),
          user_log: e.find("#log").val(),
          user_pwd: e.find("#password").val(),
        })
        .done(function (t) {
          var o = {};
          try {
            o = JSON.parse(t);
          } catch (e) {
            (o = { error: CLOE_BROOKS_STORAGE.ajax_error }), console.log(t);
          }
          var i = e.find(".result");
          0 == i.length && (i = e.siblings(".result")),
            0 == i.length &&
              (i = e.after('<div class="result"></div>').next(".result")),
            i
              .toggleClass("sc_infobox_style_error", !1)
              .toggleClass("sc_infobox_style_success", !1),
            "" === o.error
              ? (i
                  .addClass("sc_infobox sc_infobox_style_success")
                  .html(CLOE_BROOKS_STORAGE.strings.login_success),
                setTimeout(function () {
                  location.reload();
                }, 3e3))
              : i
                  .addClass("sc_infobox sc_infobox_style_error")
                  .html(
                    CLOE_BROOKS_STORAGE.strings.login_failed + "<br>" + o.error
                  ),
            i.fadeIn().delay(3e3).fadeOut();
        }),
    !1
  );
}
function cloe_brooks_registration_validate(e) {
  "use strict";
  return (
    e.find("input").removeClass("error_fields_class"),
    cloe_brooks_form_validate(e, {
      error_message_show: !0,
      error_message_time: 4e3,
      error_message_class: "sc_infobox sc_infobox_style_error",
      error_fields_class: "error_fields_class",
      exit_after_first_error: !0,
      rules: [
        {
          field: "registration_username",
          min_length: {
            value: 1,
            message: CLOE_BROOKS_STORAGE.strings.login_empty,
          },
          max_length: {
            value: 60,
            message: CLOE_BROOKS_STORAGE.strings.login_long,
          },
        },
        {
          field: "registration_email",
          min_length: {
            value: 7,
            message: CLOE_BROOKS_STORAGE.strings.email_empty,
          },
          max_length: {
            value: 60,
            message: CLOE_BROOKS_STORAGE.strings.email_long,
          },
          mask: {
            value: CLOE_BROOKS_STORAGE.email_mask,
            message: CLOE_BROOKS_STORAGE.strings.email_not_valid,
          },
        },
        {
          field: "registration_pwd",
          min_length: {
            value: 4,
            message: CLOE_BROOKS_STORAGE.strings.password_empty,
          },
          max_length: {
            value: 30,
            message: CLOE_BROOKS_STORAGE.strings.password_long,
          },
        },
        {
          field: "registration_pwd2",
          equal_to: {
            value: "registration_pwd",
            message: CLOE_BROOKS_STORAGE.strings.password_not_equal,
          },
        },
      ],
    }) ||
      jQuery
        .post(CLOE_BROOKS_STORAGE.ajax_url, {
          action: "registration_user",
          nonce: CLOE_BROOKS_STORAGE.ajax_nonce,
          user_name: e.find("#registration_username").val(),
          user_email: e.find("#registration_email").val(),
          user_pwd: e.find("#registration_pwd").val(),
        })
        .done(function (t) {
          var o = {};
          try {
            o = JSON.parse(t);
          } catch (e) {
            (o = { error: CLOE_BROOKS_STORAGE.ajax_error }), console.log(t);
          }
          var i = e.find(".result");
          0 == i.length && (i = e.siblings(".result")),
            0 == i.length &&
              (i = e.after('<div class="result"></div>').next(".result")),
            i
              .toggleClass("sc_infobox_style_error", !1)
              .toggleClass("sc_infobox_style_success", !1),
            "" === o.error
              ? (i
                  .addClass("sc_infobox sc_infobox_style_success")
                  .html(CLOE_BROOKS_STORAGE.strings.registration_success),
                setTimeout(function () {
                  jQuery(".popup_login_link").trigger("click");
                }, 3e3))
              : i
                  .addClass("sc_infobox sc_infobox_style_error")
                  .html(
                    CLOE_BROOKS_STORAGE.strings.registration_failed +
                      " " +
                      o.error
                  ),
            i.fadeIn().delay(3e3).fadeOut();
        }),
    !1
  );
}
jQuery(document).ready(function () {
  "use strict";
  (CLOE_BROOKS_STORAGE.theme_init_counter = 0), cloe_brooks_init_actions();
}),
  jQuery(window).on("beforeunload", function () {
    "use strict";
    jQuery("#page_preloader")
      .css({ display: "block", opacity: 0 })
      .animate({ opacity: 0.8 }, 300);
  });
